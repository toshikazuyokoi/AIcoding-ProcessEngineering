# 品質ゲート: 要件完全性チェック

## 目的・スコープ

STEP 1完了時に要件定義の完全性と品質を確認し、後続STEPへの移行可否を判定する。不完全な要件での設計着手を防止する。

## Source Mapping
- @docs-theory/theory/quality-gate-detailed-specifications-v1.3.md § Requirements
- @docs-theory/theory/quality-gate-implementation-guide-v1.3.md
- @docs-theory/theory/process-engineering-v1.3-complete-definition.md § STEP1

## チェック項目

### 1. 要件網羅性チェック
- [ ] 全ステークホルダーの要求が収集されている
- [ ] 機能要件が漏れなく定義されている
- [ ] 非機能要件が定量的に定義されている
- [ ] 制約条件が明確に記述されている
- [ ] 前提条件が明確に記述されている

### 2. 要件品質チェック
- [ ] 各要件が明確で曖昧性がない
- [ ] 要件間の矛盾がない
- [ ] 要件の優先度が設定されている
- [ ] 要件の検証可能性が確保されている
- [ ] 要件のトレーサビリティが確保されている

### 3. ユースケース品質チェック
- [ ] 全アクターが特定されている
- [ ] ユースケース関係図が作成されている
- [ ] 主要シナリオが記述されている
- [ ] 例外シナリオが記述されている
- [ ] 事前条件・事後条件が明確である

### 4. データモデル品質チェック
- [ ] ER図が作成されている
- [ ] エンティティが適切に定義されている
- [ ] 関係性が正しく表現されている
- [ ] 属性が適切に定義されている
- [ ] 制約条件が記述されている

## 品質基準

### 定量的基準
| 項目 | 基準値 | 測定方法 |
|------|--------|----------|
| 要件カバレッジ | 100% | ステークホルダー要求との対応確認 |
| ユースケースカバレッジ | 100% | 機能要件との対応確認 |
| 非機能要件定量化率 | 90%以上 | 定量的指標の設定率 |
| 要件レビュー承認率 | 100% | ステークホルダー承認取得 |

### 定性的基準
- 要件記述の明確性: 曖昧な表現がない
- 要件の検証可能性: テスト可能な形で記述されている
- 要件の実現可能性: 技術的・業務的に実現可能
- 要件の一貫性: 矛盾する要件がない

## チェック手順

### 1. 文書レビュー
```bash
# 要件文書の存在確認
ls docs-agent/requirements/
# - use-cases.md
# - non-functional.md
# - specification.md

# 文書フォーマット確認
node scripts/check-document-format.js docs-agent/requirements/
```

### 2. 要件網羅性確認
- ステークホルダー一覧との対応確認
- 機能要件一覧の完全性確認
- 非機能要件カテゴリの網羅性確認

### 3. 要件品質確認
- 要件記述の明確性レビュー
- 要件間の整合性確認
- 優先度設定の妥当性確認

### 4. トレーサビリティ確認
```markdown
# トレーサビリティマトリクス例
| ステークホルダー要求 | 機能要件 | ユースケース | 非機能要件 |
|---------------------|----------|--------------|------------|
| SR-001: ユーザー管理 | FR-001: ログイン | UC-001: ユーザー認証 | NFR-001: セキュリティ |
| SR-002: タスク管理 | FR-002: タスクCRUD | UC-002: タスク操作 | NFR-002: パフォーマンス |
```

## 不合格時の対応

### 軽微な問題（1-2日で修正可能）
- 要件記述の明確化
- 非機能要件の定量化
- ユースケースの詳細化

### 重大な問題（再作業が必要）
- 要件の大幅な漏れ
- ステークホルダー要求との大きな乖離
- 実現不可能な要件の存在

## 合格判定

### 合格条件
- 全チェック項目が✅
- 定量的基準を全て満たす
- ステークホルダーからの承認取得
- トレーサビリティマトリクス完成

### 合格時の次アクション
- STEP 2（システム設計）への移行承認
- 要件ベースライン設定
- 変更管理プロセス開始

## 品質ゲート記録

### チェック実行記録
| 実行日 | チェック担当者 | 結果 | 指摘事項数 | 対応状況 |
|--------|----------------|------|------------|----------|
| 2024-01-15 | 設計者A | 不合格 | 3件 | 対応中 |
| 2024-01-17 | 設計者A | 合格 | 0件 | 完了 |

### 最終判定
- **判定結果**: 合格 ✅
- **判定日**: 2024-01-17
- **判定者**: プロジェクトマネージャー
- **次STEP移行**: 承認