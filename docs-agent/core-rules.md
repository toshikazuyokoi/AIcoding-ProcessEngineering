# AIコーディング開発プロセス Core Rules v1.3-modular

## 基本原則

1. **段階的詳細化**：抽象レベルから具体レベルへ段階的に進む
2. **ファイル単位タスク管理**：1ファイル=1タスクの原則で管理
3. **品質の作り込み**：各段階で品質を確保し、後戻りを最小化
4. **完全なトレーサビリティ**：要件から実装まで追跡可能な状態を維持

## 現在STEP判定

**判定ロジック**：
- 要件仕様書未作成 → `@workflows/step1-requirements.md`
- システム設計未完了 → `@workflows/step2-system-design.md`
- 詳細設計未完了 → `@workflows/step3-detailed-design.md`
- テスト設計未完了 → `@workflows/step4-test-design.md`
- 実装計画未完了 → `@workflows/step5-implementation-planning.md`
- コーディング実行中 → `@workflows/step7-coding-execution.md`

## 品質基準

**必須品質レベル**：
- 文書品質：A（標準フォーマット100%準拠）
- プロセス準拠：100%（全STEP完了）
- トレーサビリティ：100%（要件-設計-実装-テスト）
- 実装品質：A（静的解析・テスト通過）

## ワークフロー参照方法

**基本パターン**：`@workflows/[ワークフロー名].md`
**品質問題時**：`@workflows/quality-gate-[対象].md`
**管理業務時**：`@workflows/[管理業務名].md`

## 自律運用モード（エージェント向け）

### 基本動作
1. 状況認識：成果物から現在STEPを自動判定
2. ワークフロー選択：人間の要求を @workflows/meta-workflow-orchestrator.md に従ってマッピング
3. 実行：選択したワークフロー1本のみを注入・実行
4. 品質保証：対応する品質ゲート1本のみを注入・チェック
5. 理論参照：各WFの Source Mapping の該当節のみ最小抜粋（最大200トークン）

### コンテキスト効率化
- 常駐：本Core Rulesのみ（圧縮版でも可）
- 実行時：現在WF 1本のみ注入
- 完了時：対応Gate 1本のみ注入
- 禁止：複数WF同時注入／docs-theory/theory 丸読み／Gate事前多重注入

### 人間インターフェース
- 人間は目的を自然言語で伝える（例：「要件を整理して」「設計をして」「実装計画を作って」）
- エージェントはWF選択→実行→Gate判定→次STEP移行まで自律で行う

## 緊急対応

**品質問題発生時**：
1. 該当品質ゲートワークフローを即座に参照
2. 問題の根本原因を特定
3. 前段階への適切な戻り実行
4. 再発防止策の文書化