# ダッシュボード画面UIワイヤーフレーム設計書

## メタデータ

| 項目 | 内容 |
|------|------|
| 画面ID | SC-003 |
| 画面名 | ダッシュボード画面 |
| URL | /dashboard |
| 関連UC | UC-016 (ダッシュボード表示) |
| 対象ユーザー | 認証済み全ユーザー |
| 作成日 | 2025-09-19 |
| バージョン | 1.0 |
| ステータス | ドラフト |

---

## 画面概要

**目的**: ユーザーがログイン後最初に表示される概要画面

**機能要件**:

- システム全体の統計情報表示
- 最近のチケット一覧表示
- クイックアクション（新規作成等）
- 通知・アラート表示
- ナビゲーション機能
- レスポンシブ対応

---

## ワイヤーフレーム設計

### デスクトップ版（1200px以上）

```
┌─────────────────────────────────────────────────────────────────────────────┐
│ [≡] Issue Tracker    🔍[検索]    👤 John Doe ▼ [通知(3)] [ログアウト]     │ ← ヘッダー
├─────────────────────────────────────────────────────────────────────────────┤
│ [📊] ダッシュボード                                                          │
│ [🎫] チケット一覧                                                            │
│ [👥] ユーザー管理                                    メインコンテンツ領域      │
│ [⚙️] システム設定                  ┌─────────────────────────────────────┐     │
│ [📈] 統計情報                      │ ようこそ、John Doe さん              │     │
│                                    │ 最終ログイン: 2025-09-19 09:30      │     │
│                                    └─────────────────────────────────────┘     │
│                                                                                │
│                                    ┌──────────┬──────────┬──────────────┐     │
│                                    │  全チケット │  完了済み  │  進行中        │     │
│                                    │    124    │    89    │     35        │     │
│                                    │   件      │   件     │    件         │     │
│                                    └──────────┴──────────┴──────────────┘     │
│                                                                                │
│                                    ┌─────────────────────────────────────┐     │
│                                    │ 最近のチケット                       │     │
│                                    │ ─────────────────────────────────   │     │
│                                    │ #123 ログイン不具合修正  進行中 高   │     │
│                                    │ #122 UI改善要望        完了   中     │     │
│                                    │ #121 データ移行作業    進行中 高     │     │
│                                    │ #120 テスト追加        新規   低     │     │
│                                    │                                      │     │
│                                    │           すべて表示 →               │     │
│                                    └─────────────────────────────────────┘     │
│                                                                                │
│                                    ┌─────────────────────────────────────┐     │
│                                    │ クイックアクション                   │     │
│                                    │                                      │     │
│                                    │ [新規チケット作成] [チケット一覧]   │     │
│                                    │ [ユーザー管理]     [システム設定]   │     │
│                                    └─────────────────────────────────────┘     │
├─────────────────────────────────────────────────────────────────────────────┤
│ © 2025 Issue Tracker. All rights reserved. | バージョン: 1.0              │ ← フッター
└─────────────────────────────────────────────────────────────────────────────┘
```

### タブレット版（768px-1199px）

```
┌─────────────────────────────────────────────────┐
│ [≡] Issue Tracker  👤 John ▼ [3] [ログアウト]  │ ← ヘッダー（簡略）
├─────────────────────────────────────────────────┤
│                                                 │
│ ┌─────────────────────────────────────────────┐ │
│ │ ようこそ、John Doe さん                     │ │
│ │ 最終ログイン: 2025-09-19 09:30             │ │
│ └─────────────────────────────────────────────┘ │
│                                                 │
│ ┌──────────┬──────────┬─────────────┐          │
│ │全チケット │ 完了済み   │  進行中      │          │
│ │   124   │   89     │    35       │          │
│ └──────────┴──────────┴─────────────┘          │
│                                                 │
│ ┌─────────────────────────────────────────────┐ │
│ │ 最近のチケット                               │ │
│ │ ───────────────────────────────────────────  │ │
│ │ #123 ログイン不具合修正  進行中 高          │ │
│ │ #122 UI改善要望        完了   中            │ │
│ │ #121 データ移行作業    進行中 高            │ │
│ │                                              │ │
│ │           すべて表示 →                      │ │
│ └─────────────────────────────────────────────┘ │
│                                                 │
│ ┌─────────────────────────────────────────────┐ │
│ │ [新規チケット作成] [チケット一覧]           │ │
│ │ [ユーザー管理]     [システム設定]           │ │
│ └─────────────────────────────────────────────┘ │
│                                                 │
├─────────────────────────────────────────────────┤
│ © 2025 Issue Tracker.                          │
└─────────────────────────────────────────────────┘
```

### モバイル版（768px未満）

```
┌───────────────────────────┐
│[≡] Issue Tracker [3][出]│ ← ヘッダー（最小）
├───────────────────────────┤
│                           │
│ ようこそ、John さん       │
│ 最終ログイン: 09/19 09:30 │
│                           │
│ ┌─────┬─────┬─────┐      │
│ │全体 │完了 │進行中│      │
│ │124 │ 89 │ 35  │      │
│ └─────┴─────┴─────┘      │
│                           │
│ 最近のチケット             │
│ ─────────────────────     │
│ #123 ログイン不具合       │
│      進行中 高            │
│ #122 UI改善要望           │
│      完了 中              │
│ #121 データ移行作業       │
│      進行中 高            │
│                           │
│      すべて表示 →         │
│                           │
│ [新規チケット作成]        │
│ [チケット一覧]            │
│ [ユーザー管理]            │
│ [システム設定]            │
│                           │
├───────────────────────────┤
│ © 2025 Issue Tracker     │
└───────────────────────────┘
```

---

## コンポーネント構成詳細

### ヘッダーコンポーネント（CP-001）

**デスクトップ構成**:

```
[ハンバーガー] [ロゴ] [検索バー] [ユーザー名] [通知] [ログアウト]
```

**要素詳細**:

| 要素 | 機能 | 表示条件 | アクション |
|------|------|----------|------------|
| ハンバーガーメニュー | サイドバー開閉 | 全デバイス | サイドバートグル |
| ロゴ・アプリ名 | ホーム遷移 | 全デバイス | ダッシュボード遷移 |
| 検索バー | 全文検索 | デスクトップのみ | 検索結果ページ |
| ユーザー名 | プロフィール | 全デバイス | ドロップダウン表示 |
| 通知 | 未読通知表示 | 全デバイス | 通知一覧画面遷移 |
| ログアウト | セッション終了 | 全デバイス | ログアウト処理 |

### サイドナビゲーション（CP-002）

**メニュー構成**:

```
📊 ダッシュボード      ← 現在ページ（ハイライト）
🎫 チケット一覧
📝 チケット作成
👥 ユーザー管理        ← 管理者のみ表示
⚙️  システム設定      ← 管理者のみ表示
📈 統計情報           ← PM・管理者のみ表示
📬 通知一覧
🔍 検索               ← モバイルのみ表示
```

### ウェルカムカード

**表示情報**:

- ユーザー名: "ようこそ、{ユーザー名} さん"
- 最終ログイン日時: "最終ログイン: YYYY-MM-DD HH:mm"
- ロール表示: "(管理者)" 等の権限情報

### 統計カード群

**3列グリッド構成（デスクトップ）**:

| カード | 項目 | 数値 | アクション |
|--------|------|------|------------|
| 全チケット | 総チケット数 | 数値 | チケット一覧遷移 |
| 完了済み | 完了チケット数 | 数値 + 完了率% | 完了チケット一覧 |
| 進行中 | 進行中チケット数 | 数値 | 進行中チケット一覧 |

**カードデザイン**:

```
┌─────────────┐
│  全チケット  │
│     124     │ ← 大きな数値
│     件      │
└─────────────┘
```

### 最近のチケット一覧

**テーブル仕様（デスクトップ）**:

| 列 | 幅 | 内容 | リンク |
|----|-----|------|--------|
| チケット番号 | 80px | #123 | 詳細画面 |
| タイトル | 300px | チケットタイトル | 詳細画面 |
| ステータス | 80px | バッジ表示 | - |
| 優先度 | 60px | バッジ表示 | - |

**リスト仕様（モバイル）**:

```
#123 ログイン不具合修正
     進行中 高
```

### クイックアクション

**ボタン配置**:

- **デスクトップ**: 2×2グリッド
- **タブレット**: 2×2グリッド
- **モバイル**: 縦1列

**ボタン仕様**:

| ボタン | 色 | アイコン | 遷移先 | 表示条件 |
|--------|-----|---------|--------|----------|
| 新規チケット作成 | primary | ➕ | /issues/new | 全ユーザー |
| チケット一覧 | outline-primary | 📋 | /issues | 全ユーザー |
| ユーザー管理 | outline-secondary | 👥 | /users | 管理者のみ |
| システム設定 | outline-secondary | ⚙️ | /settings | 管理者のみ |

---

## データ・API仕様

### ダッシュボードデータAPI

**エンドポイント**: `GET /api/dashboard/summary`

**レスポンス**:

```json
{
  "user": {
    "name": "John Doe",
    "role": "admin",
    "lastLogin": "2025-09-19T09:30:00Z"
  },
  "statistics": {
    "totalIssues": 124,
    "completedIssues": 89,
    "inProgressIssues": 35,
    "completionRate": 71.8
  },
  "recentIssues": [
    {
      "id": 123,
      "title": "ログイン不具合修正",
      "status": "in_progress",
      "priority": "high",
      "assignedTo": "John Doe",
      "createdAt": "2025-09-18T10:00:00Z"
    }
  ],
  "notifications": {
    "unreadCount": 3
  }
}
```

### リアルタイム更新

**WebSocket接続** (オプション):

- 統計数値のリアルタイム更新
- 新規チケット通知
- ステータス変更通知

**ポーリング更新** (基本実装):

- 5分間隔での統計更新
- 1分間隔での通知チェック

---

## 権限・表示制御

### ロール別表示制御

| 要素 | 一般ユーザー | PM | 管理者 |
|------|-------------|-----|--------|
| 統計カード | 自分のチケットのみ | 全体統計 | 全体統計 |
| ユーザー管理ボタン | 非表示 | 表示 | 表示 |
| システム設定ボタン | 非表示 | 非表示 | 表示 |
| 統計情報ボタン | 非表示 | 表示 | 表示 |
| 最近のチケット | 自分関連のみ | 全体 | 全体 |

### データフィルタリング

**一般ユーザーの場合**:

- 作成者が自分のチケット
- 担当者が自分のチケット
- 自分がウォッチしているチケット

**PM・管理者の場合**:

- 全てのチケットを表示

---

## パフォーマンス・UX設計

### ローディング状態

**初期表示時**:

```
┌─────────────────────────────┐
│ ようこそ、John Doe さん      │
│ ───────────────────────────  │
│                             │
│ ┌─────┐ ┌─────┐ ┌─────┐    │
│ │░░░░░│ │░░░░░│ │░░░░░│    │ ← スケルトンローディング
│ │░░░░░│ │░░░░░│ │░░░░░│    │
│ └─────┘ └─────┘ └─────┘    │
│                             │
│ ┌─────────────────────────┐ │
│ │░░░░░░░░░░░░░░░░░░░░░░░░░│ │
│ │░░░░░░░░░░░░░░░░░░░░░░░░░│ │ ← テーブルスケルトン
│ │░░░░░░░░░░░░░░░░░░░░░░░░░│ │
│ └─────────────────────────┘ │
└─────────────────────────────┘
```

### レスポンス時間目標

| 操作 | 目標時間 | 許容時間 | 対応 |
|------|----------|----------|------|
| 初期表示 | <1秒 | <3秒 | キャッシュ活用 |
| 統計更新 | <0.5秒 | <2秒 | 部分更新 |
| チケット一覧 | <0.5秒 | <2秒 | ページング |
| アクション実行 | <0.3秒 | <1秒 | 即座フィードバック |

---

## レスポンシブ詳細仕様

### ブレークポイント対応

| 要素 | xs (<576px) | sm (576-768px) | md (768-992px) | lg (992px+) |
|------|-------------|---------------|---------------|-------------|
| サイドバー | 隠す（オーバーレイ） | 隠す（オーバーレイ） | 表示（固定） | 表示（固定） |
| 統計カード | 1列 | 2列 | 3列 | 3列 |
| 最近のチケット | リスト形式 | リスト形式 | テーブル形式 | テーブル形式 |
| クイックアクション | 1列 | 2列 | 2×2 | 2×2 |
| 検索バー | サイドバー内 | サイドバー内 | ヘッダー | ヘッダー |

### タッチデバイス対応

**タップ領域サイズ**:

- ボタン: 最小48×48px
- リンク: 最小44×44px
- チェックボックス: 最小32×32px

**ジェスチャー対応**:

- スワイプ: サイドバー開閉（モバイル）
- プルトゥリフレッシュ: データ再読み込み
- ロングタップ: コンテキストメニュー表示

---

## アクセシビリティ仕様

### ARIA属性設定

```html
<main role="main" aria-labelledby="dashboard-title">
  <h1 id="dashboard-title" class="sr-only">ダッシュボード</h1>
  
  <section aria-labelledby="welcome-heading">
    <h2 id="welcome-heading" class="sr-only">ウェルカムメッセージ</h2>
    <!-- ウェルカムカード -->
  </section>
  
  <section aria-labelledby="stats-heading">
    <h2 id="stats-heading" class="sr-only">統計情報</h2>
    <!-- 統計カード群 -->
  </section>
  
  <section aria-labelledby="recent-heading">
    <h2 id="recent-heading">最近のチケット</h2>
    <!-- チケット一覧 -->
  </section>
</main>
```

### キーボードナビゲーション

| 順序 | 要素 | ショートカット | 説明 |
|------|------|---------------|------|
| 1 | サイドバートグル | Alt+M | メニュー開閉 |
| 2 | 検索バー | Alt+S | 検索フォーカス |
| 3 | 統計カード | Tab順序 | カード間移動 |
| 4 | チケット一覧 | Tab順序 | 行間移動 |
| 5 | クイックアクション | Tab順序 | ボタン間移動 |

### スクリーンリーダー対応

**読み上げ内容例**:

```
"ようこそ、John Doe さん、管理者。最終ログイン、2025年9月19日9時30分。
全チケット、124件。完了済み、89件。進行中、35件。
最近のチケット一覧。123番、ログイン不具合修正、進行中、高優先度。"
```

---

## 実装技術仕様

### HTML構造

```html
<div class="dashboard-layout">
  <header class="app-header" id="header">
    <!-- ヘッダーコンテンツ -->
  </header>
  
  <div class="app-body">
    <nav class="sidebar" id="sidebar" aria-label="メインナビゲーション">
      <!-- サイドバーメニュー -->
    </nav>
    
    <main class="main-content" role="main">
      <div class="container-fluid">
        <!-- ダッシュボードコンテンツ -->
      </div>
    </main>
  </div>
  
  <footer class="app-footer">
    <!-- フッターコンテンツ -->
  </footer>
</div>
```

### CSS Grid/Flexboxレイアウト

```css
.dashboard-layout {
  min-height: 100vh;
  display: grid;
  grid-template-rows: auto 1fr auto;
  grid-template-areas: 
    "header"
    "body"
    "footer";
}

.app-body {
  display: grid;
  grid-template-columns: 250px 1fr;
  grid-area: body;
}

@media (max-width: 768px) {
  .app-body {
    grid-template-columns: 1fr;
  }
  
  .sidebar {
    transform: translateX(-100%);
    transition: transform 0.3s ease;
  }
  
  .sidebar.open {
    transform: translateX(0);
  }
}

.stats-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 1.5rem;
  margin-bottom: 2rem;
}
```

### JavaScript状態管理

```javascript
class DashboardController {
  constructor() {
    this.data = null;
    this.updateInterval = null;
    this.init();
  }
  
  async init() {
    await this.loadData();
    this.render();
    this.startAutoUpdate();
    this.bindEvents();
  }
  
  async loadData() {
    try {
      const response = await fetch('/api/dashboard/summary');
      this.data = await response.json();
    } catch (error) {
      this.handleError(error);
    }
  }
  
  render() {
    this.renderWelcome();
    this.renderStatistics();
    this.renderRecentIssues();
    this.renderNotifications();
  }
  
  startAutoUpdate() {
    this.updateInterval = setInterval(() => {
      this.loadData().then(() => this.render());
    }, 300000); // 5分間隔
  }
}

document.addEventListener('DOMContentLoaded', () => {
  new DashboardController();
});
```

---

## テスト観点

### 表示テスト

- [ ] 各デバイスサイズでの表示確認
- [ ] 統計カードの数値表示
- [ ] チケット一覧の正常表示
- [ ] サイドバーの開閉動作
- [ ] レスポンシブレイアウト

### 機能テスト

- [ ] データ読み込み処理
- [ ] 各リンクの遷移確認
- [ ] ロール別表示制御
- [ ] 自動更新機能
- [ ] エラーハンドリング

### アクセシビリティテスト

- [ ] キーボードナビゲーション
- [ ] スクリーンリーダー読み上げ
- [ ] フォーカス表示
- [ ] コントラスト比確認

### パフォーマンステスト

- [ ] 初期表示速度測定
- [ ] 大量データ表示確認
- [ ] メモリ使用量確認
- [ ] 自動更新負荷測定

---

**設計完了**: ダッシュボード画面のワイヤーフレーム設計が完了しました。認証後のメイン画面として必要な機能とUXを網羅し、レスポンシブ対応も含めています。