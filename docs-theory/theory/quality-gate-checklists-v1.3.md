# 品質ゲートチェックリスト v1.3

## 1. 品質ゲート1チェックリスト: 要件完全性

### 1.1 ゴール定義チェック

| # | チェック項目 | 必須/推奨 | 確認内容 | 判定基準 | 結果 | 備考 |
|---|------------|----------|---------|----------|------|------|
| 1.1.1 | プロジェクト目的の明確性 | 必須 | ゴールがSMART原則に従っているか | Specific, Measurable, Achievable, Relevant, Time-boundすべて満たす | □ | |
| 1.1.2 | 成功基準の定量化 | 必須 | 成功基準が測定可能な形で定義されているか | 数値目標または明確な判定基準あり | □ | |
| 1.1.3 | スコープの明確化 | 必須 | プロジェクトの範囲が明確に定義されているか | 含む/含まないが明記されている | □ | |
| 1.1.4 | ビジネス価値の定義 | 推奨 | 期待されるビジネス価値が定義されているか | ROIまたは定性的価値が明記 | □ | |

### 1.2 ステークホルダー分析チェック

| # | チェック項目 | 必須/推奨 | 確認内容 | 判定基準 | 結果 | 備考 |
|---|------------|----------|---------|----------|------|------|
| 1.2.1 | ステークホルダー網羅性 | 必須 | すべての関係者が特定されているか | プライマリ/セカンダリ/外部すべて網羅 | □ | |
| 1.2.2 | 役割と責任の明確化 | 必須 | 各ステークホルダーの役割が定義されているか | RACI図またはそれに準ずる定義あり | □ | |
| 1.2.3 | 期待事項の文書化 | 必須 | 各ステークホルダーの期待が記録されているか | 期待事項と懸念事項が文書化 | □ | |
| 1.2.4 | コミュニケーション計画 | 推奨 | コミュニケーション方法が定義されているか | 頻度、方法、内容が明確 | □ | |

### 1.3 制約条件チェック

| # | チェック項目 | 必須/推奨 | 確認内容 | 判定基準 | 結果 | 備考 |
|---|------------|----------|---------|----------|------|------|
| 1.3.1 | 技術制約の現実性 | 必須 | 技術的制約が実現可能か | 各制約に対する対応策あり | □ | |
| 1.3.2 | 予算制約の妥当性 | 必須 | 予算が現実的に設定されているか | 見積もり根拠あり、バッファ含む | □ | |
| 1.3.3 | 期間制約の実現性 | 必須 | スケジュールが達成可能か | クリティカルパス分析済み | □ | |
| 1.3.4 | リスク評価 | 推奨 | 主要リスクが識別されているか | リスク一覧と対策あり | □ | |

### 1.4 機能要件チェック

| # | チェック項目 | 必須/推奨 | 確認内容 | 判定基準 | 結果 | 備考 |
|---|------------|----------|---------|----------|------|------|
| 1.4.1 | ユースケース網羅性 | 必須 | すべてのアクターのユースケースが定義されているか | カバレッジ100% | □ | |
| 1.4.2 | ユースケース完全性 | 必須 | 各ユースケースが完全に記述されているか | 事前条件、主要フロー、代替フロー、事後条件すべて記載 | □ | |
| 1.4.3 | 要件の一意性 | 必須 | 各要件にユニークIDが付与されているか | ID体系確立、重複なし | □ | |
| 1.4.4 | 要件の明確性 | 必須 | 要件記述に曖昧な表現がないか | 「など」「程度」「適切に」等の表現なし | □ | |
| 1.4.5 | 優先度設定 | 必須 | 各要件の優先度が設定されているか | 必須/重要/推奨の分類あり | □ | |
| 1.4.6 | 受入基準 | 必須 | 各要件に受入基準が定義されているか | 測定可能な受入基準あり | □ | |

### 1.5 非機能要件チェック

| # | チェック項目 | 必須/推奨 | 確認内容 | 判定基準 | 結果 | 備考 |
|---|------------|----------|---------|----------|------|------|
| 1.5.1 | 性能要件の定量化 | 必須 | 性能要件が数値で定義されているか | 応答時間、スループット等に具体的数値 | □ | |
| 1.5.2 | 可用性要件の明確化 | 必須 | 稼働率、MTBF、MTTR等が定義されているか | SLA相当の定義あり | □ | |
| 1.5.3 | セキュリティ要件 | 必須 | セキュリティ要件が具体的に定義されているか | 認証、認可、暗号化方式明記 | □ | |
| 1.5.4 | 拡張性要件 | 推奨 | 将来の拡張性が考慮されているか | 3年後の想定規模明記 | □ | |
| 1.5.5 | 保守性要件 | 推奨 | 保守・運用要件が定義されているか | ログ、監視、バックアップ要件あり | □ | |

### 判定基準
- **Pass**: 必須項目100%、推奨項目80%以上
- **Conditional Pass**: 必須項目100%、推奨項目60-79%
- **Fail**: 必須項目に未達成あり

---

## 2. 品質ゲート2チェックリスト: アーキテクチャ実現可能性

### 2.1 技術的実現可能性チェック

| # | チェック項目 | 必須/推奨 | 確認内容 | 判定基準 | 結果 | 備考 |
|---|------------|----------|---------|----------|------|------|
| 2.1.1 | 技術スタック互換性 | 必須 | 選定技術間の互換性が検証されているか | 互換性マトリクス作成、問題なし | □ | |
| 2.1.2 | バージョン依存関係 | 必須 | ライブラリ間の依存関係が解決されているか | package.json等で検証済み | □ | |
| 2.1.3 | 技術的PoC実施 | 必須 | 重要技術要素のPoCが実施されているか | リスクの高い技術のPoC完了 | □ | |
| 2.1.4 | ライセンス互換性 | 推奨 | 使用ライブラリのライセンスが適切か | ライセンス一覧作成、問題なし | □ | |

### 2.2 性能実現性チェック

| # | チェック項目 | 必須/推奨 | 確認内容 | 判定基準 | 結果 | 備考 |
|---|------------|----------|---------|----------|------|------|
| 2.2.1 | 性能モデリング | 必須 | 性能要件を満たすアーキテクチャか | モデリング結果が目標値の120%以内 | □ | |
| 2.2.2 | ボトルネック分析 | 必須 | 性能ボトルネックが特定されているか | 主要ボトルネック特定、対策あり | □ | |
| 2.2.3 | スケーラビリティ設計 | 必須 | 水平/垂直スケーリングが可能か | スケーリング方式明確、実現可能 | □ | |
| 2.2.4 | 負荷テスト計画 | 推奨 | 負荷テストの計画があるか | テストシナリオ、環境定義済み | □ | |

### 2.3 セキュリティアーキテクチャチェック

| # | チェック項目 | 必須/推奨 | 確認内容 | 判定基準 | 結果 | 備考 |
|---|------------|----------|---------|----------|------|------|
| 2.3.1 | 認証・認可設計 | 必須 | 認証・認可フローが明確か | フロー図作成、実装可能 | □ | |
| 2.3.2 | データ保護設計 | 必須 | データ暗号化が適切に設計されているか | 保存時/通信時の暗号化明記 | □ | |
| 2.3.3 | セキュリティレイヤー | 必須 | 多層防御が実装されているか | 各レイヤーのセキュリティ対策明記 | □ | |
| 2.3.4 | 脅威モデリング | 推奨 | 脅威分析が実施されているか | STRIDE等による分析完了 | □ | |

### 2.4 要件カバレッジチェック

| # | チェック項目 | 必須/推奨 | 確認内容 | 判定基準 | 結果 | 備考 |
|---|------------|----------|---------|----------|------|------|
| 2.4.1 | 機能要件マッピング | 必須 | すべての機能要件がアーキテクチャにマッピングされているか | マッピング率100% | □ | |
| 2.4.2 | NFR実現方式 | 必須 | 各NFRの実現方式が明確か | 実現方式とトレードオフ文書化 | □ | |
| 2.4.3 | インターフェース定義 | 必須 | 主要インターフェースが定義されているか | API、画面遷移等の基本設計完了 | □ | |
| 2.4.4 | データフロー定義 | 推奨 | データの流れが明確か | データフロー図作成済み | □ | |

### 判定基準
- **Pass**: 必須項目100%、技術的リスクなし
- **Conditional Pass**: 必須項目100%、軽微なリスクあり（対策済み）
- **Fail**: 必須項目未達成または重大なリスクあり

---

## 3. 品質ゲート3チェックリスト: 設計完全性

### 3.1 インターフェース設計チェック

| # | チェック項目 | 必須/推奨 | 確認内容 | 判定基準 | 結果 | 備考 |
|---|------------|----------|---------|----------|------|------|
| 3.1.1 | API定義完全性 | 必須 | すべてのAPIが詳細定義されているか | OpenAPI仕様100%記述 | □ | |
| 3.1.2 | エラーハンドリング | 必須 | エラー処理が網羅的に定義されているか | 全エラーケース定義済み | □ | |
| 3.1.3 | データ検証ルール | 必須 | 入力検証ルールが明確か | バリデーションルール100%定義 | □ | |
| 3.1.4 | バージョニング戦略 | 推奨 | APIバージョニングが考慮されているか | バージョニング方式明記 | □ | |

### 3.2 クラス設計チェック

| # | チェック項目 | 必須/推奨 | 確認内容 | 判定基準 | 結果 | 備考 |
|---|------------|----------|---------|----------|------|------|
| 3.2.1 | 単一責任原則 | 必須 | 各クラスが単一の責任を持っているか | 責任が明確に1つ | □ | |
| 3.2.2 | インターフェース分離 | 必須 | インターフェースが適切に分離されているか | 不要な依存なし | □ | |
| 3.2.3 | 依存性逆転 | 必須 | 高レベルモジュールが低レベルに依存していないか | 抽象に依存 | □ | |
| 3.2.4 | 循環依存チェック | 必須 | クラス間に循環依存がないか | 循環依存0件 | □ | |

### 3.3 データ設計チェック

| # | チェック項目 | 必須/推奨 | 確認内容 | 判定基準 | 結果 | 備考 |
|---|------------|----------|---------|----------|------|------|
| 3.3.1 | データモデル整合性 | 必須 | ERDとクラス図が整合しているか | 不整合0件 | □ | |
| 3.3.2 | 正規化レベル | 必須 | 適切な正規化がされているか | 3NF以上または意図的な非正規化 | □ | |
| 3.3.3 | インデックス設計 | 推奨 | パフォーマンスを考慮したインデックスか | 主要クエリに対応 | □ | |
| 3.3.4 | データ型一貫性 | 必須 | 全レイヤーでデータ型が一貫しているか | 型定義の不一致0件 | □ | |

### 3.4 設計品質メトリクス

| # | チェック項目 | 必須/推奨 | 確認内容 | 判定基準 | 結果 | 備考 |
|---|------------|----------|---------|----------|------|------|
| 3.4.1 | 循環的複雑度 | 必須 | メソッドの複雑度が適切か | 10以下 | □ | |
| 3.4.2 | 結合度 | 推奨 | クラス間の結合度が低いか | CBO < 6 | □ | |
| 3.4.3 | 凝集度 | 推奨 | クラスの凝集度が高いか | LCOM < 2 | □ | |
| 3.4.4 | 継承深度 | 推奨 | 継承階層が深すぎないか | DIT <= 3 | □ | |

### 判定基準
- **Pass**: 必須項目100%、設計メトリクス基準内
- **Conditional Pass**: 必須項目100%、一部メトリクス要改善
- **Fail**: 必須項目未達成または重大な設計問題あり

---

## 4. 品質ゲート4チェックリスト: 実装品質

### 4.1 コード品質チェック

| # | チェック項目 | 必須/推奨 | 確認内容 | 判定基準 | 結果 | 備考 |
|---|------------|----------|---------|----------|------|------|
| 4.1.1 | 静的解析結果 | 必須 | SonarQube等の静的解析をパスしているか | Critical/High: 0件 | □ | |
| 4.1.2 | コード重複 | 必須 | コードの重複が最小限か | 重複率3%未満 | □ | |
| 4.1.3 | 技術的負債 | 推奨 | 技術的負債が管理可能か | 5日未満 | □ | |
| 4.1.4 | Lintエラー | 必須 | コーディング規約に準拠しているか | エラー0件 | □ | |

### 4.2 テスト品質チェック

| # | チェック項目 | 必須/推奨 | 確認内容 | 判定基準 | 結果 | 備考 |
|---|------------|----------|---------|----------|------|------|
| 4.2.1 | ラインカバレッジ | 必須 | コードカバレッジが十分か | 90%以上 | □ | |
| 4.2.2 | ブランチカバレッジ | 必須 | 分岐網羅が十分か | 85%以上 | □ | |
| 4.2.3 | 関数カバレッジ | 必須 | 関数網羅が十分か | 95%以上 | □ | |
| 4.2.4 | ユニットテスト | 必須 | すべてのpublicメソッドにテストがあるか | 100%実装 | □ | |
| 4.2.5 | 統合テスト | 必須 | APIエンドポイントがテストされているか | 100%実装 | □ | |
| 4.2.6 | E2Eテスト | 推奨 | 主要シナリオがE2Eテストされているか | 主要ユースケース網羅 | □ | |

### 4.3 設計実装整合性チェック

| # | チェック項目 | 必須/推奨 | 確認内容 | 判定基準 | 結果 | 備考 |
|---|------------|----------|---------|----------|------|------|
| 4.3.1 | インターフェース準拠 | 必須 | 実装が設計通りのインターフェースか | 差異0件 | □ | |
| 4.3.2 | アーキテクチャ準拠 | 必須 | レイヤー構造が守られているか | 違反0件 | □ | |
| 4.3.3 | 命名規則準拠 | 必須 | クラス・メソッド名が規則通りか | 違反0件 | □ | |
| 4.3.4 | 設計パターン準拠 | 推奨 | 指定された設計パターンが実装されているか | 正しく実装 | □ | |

### 4.4 セキュリティチェック

| # | チェック項目 | 必須/推奨 | 確認内容 | 判定基準 | 結果 | 備考 |
|---|------------|----------|---------|----------|------|------|
| 4.4.1 | 脆弱性スキャン | 必須 | セキュリティ脆弱性がないか | Critical/High: 0件 | □ | |
| 4.4.2 | 依存関係脆弱性 | 必須 | 使用ライブラリに脆弱性がないか | Critical/High: 0件 | □ | |
| 4.4.3 | セキュリティヘッダー | 必須 | 必要なセキュリティヘッダーが実装されているか | OWASP推奨ヘッダー実装 | □ | |
| 4.4.4 | 認証・認可テスト | 必須 | 認証・認可が正しく動作するか | 全シナリオpass | □ | |

### 4.5 運用準備チェック

| # | チェック項目 | 必須/推奨 | 確認内容 | 判定基準 | 結果 | 備考 |
|---|------------|----------|---------|----------|------|------|
| 4.5.1 | ログ出力 | 必須 | 適切なログが出力されているか | 構造化ログ実装 | □ | |
| 4.5.2 | エラーハンドリング | 必須 | エラーが適切に処理されているか | 全エラーケース対応 | □ | |
| 4.5.3 | 監視設定 | 推奨 | 監視用のメトリクスが実装されているか | 主要メトリクス実装 | □ | |
| 4.5.4 | ドキュメント | 必須 | 必要なドキュメントが揃っているか | API仕様書、運用手順書完備 | □ | |

### 判定基準
- **Pass**: 必須項目100%、すべての基準達成
- **Conditional Pass**: 必須項目100%、一部推奨項目未達成
- **Fail**: 必須項目未達成または重大な品質問題あり

---

## 5. チェックリスト実施ガイド

### 5.1 実施タイミング
- 各品質ゲートは、該当するSTEP完了時に実施
- チェックリストは段階的に実施可能（必須項目優先）

### 5.2 実施方法
1. 自動化可能な項目は、CI/CDパイプラインに統合
2. 手動チェック項目は、レビュー会議で確認
3. 結果はすべて記録し、トレーサビリティを確保

### 5.3 エビデンス管理
- 各チェック項目の結果は、エビデンスとともに保管
- 自動チェックの結果は、レポートとして自動保存
- 手動チェックの結果は、議事録とともに記録

### 5.4 継続的改善
- チェックリストは、プロジェクトの特性に応じてカスタマイズ可能
- 実施結果を分析し、チェック項目の見直しを定期的に実施
- False Positiveが多い項目は、基準の見直しを検討