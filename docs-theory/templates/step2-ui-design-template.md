# UI構成定義書（画面遷移図）

## メタデータ
| 項目 | 内容 |
|------|------|
| 文書ID | UI-001 |
| 関連文書 | UC-001 (ユースケース一覧)<br>STAK-001 (ステークホルダー一覧)<br>ARCH-001 (システム構成図)<br>REQ-001 (要求仕様書) |
| 作成日 | YYYY-MM-DD |
| 最終更新日 | YYYY-MM-DD |
| 作成者 | [UI/UXデザイナー名] |
| 承認者 | [プロダクトオーナー名] |
| バージョン | 1.0 |
| ステータス | ドラフト |

## 1. UI構成概要

### 1.1 設計方針
| 項目 | 方針 |
|------|------|
| デザインシステム | [Material-UI / Ant Design / 独自システム] |
| レスポンシブ対応 | [デスクトップ優先 / モバイルファースト] |
| アクセシビリティ | [WCAG 2.1 AA準拠] |
| ブラウザ対応 | [Chrome, Firefox, Safari, Edge 最新2バージョン] |

### 1.2 画面分類
| 分類 | 説明 | 画面数 |
|------|------|--------|
| 認証画面 | ログイン・登録・パスワードリセット | [数] |
| メイン機能画面 | 主要業務機能 | [数] |
| 管理画面 | システム管理・設定 | [数] |
| エラー画面 | エラー・404・メンテナンス | [数] |

## 2. 画面一覧

### 2.1 認証関連画面
| 画面ID | 画面名 | URL | 関連UC | アクター | 説明 |
|--------|--------|-----|--------|----------|------|
| SC-001 | ログイン画面 | /login | UC-[XX] | [アクター名] | ユーザー認証 |
| SC-002 | ユーザー登録画面 | /register | UC-[XX] | [アクター名] | 新規ユーザー登録 |
| SC-003 | パスワードリセット画面 | /reset-password | UC-[XX] | [アクター名] | パスワード再設定 |

### 2.2 メイン機能画面
| 画面ID | 画面名 | URL | 関連UC | アクター | 説明 |
|--------|--------|-----|--------|----------|------|
| SC-004 | ダッシュボード | /dashboard | UC-[XX] | [アクター名] | 概要・統計表示 |
| SC-005 | [機能]一覧画面 | /[resource] | UC-[XX] | [アクター名] | 一覧・検索・フィルター |
| SC-006 | [機能]詳細画面 | /[resource]/:id | UC-[XX] | [アクター名] | 詳細情報表示 |
| SC-007 | [機能]作成画面 | /[resource]/new | UC-[XX] | [アクター名] | 新規作成 |
| SC-008 | [機能]編集画面 | /[resource]/:id/edit | UC-[XX] | [アクター名] | 編集・更新 |

### 2.3 管理・設定画面
| 画面ID | 画面名 | URL | 関連UC | アクター | 説明 |
|--------|--------|-----|--------|----------|------|
| SC-009 | ユーザー設定画面 | /profile | UC-[XX] | [アクター名] | プロフィール設定 |
| SC-010 | 管理者画面 | /admin | UC-[XX] | [管理者] | システム管理 |

### 2.4 エラー・システム画面
| 画面ID | 画面名 | URL | 関連UC | アクター | 説明 |
|--------|--------|-----|--------|----------|------|
| SC-011 | 404エラー画面 | /404 | - | 全ユーザー | ページ未発見 |
| SC-012 | 500エラー画面 | /500 | - | 全ユーザー | サーバーエラー |
| SC-013 | メンテナンス画面 | /maintenance | - | 全ユーザー | メンテナンス中 |

## 3. UIコンポーネント定義

### 3.1 共通コンポーネント
| コンポーネントID | コンポーネント名 | 説明 | 使用画面 |
|------------------|------------------|------|----------|
| CP-001 | ヘッダーナビゲーション | ログイン状態・メニュー表示 | 認証後全画面 |
| CP-002 | サイドバーメニュー | 主要機能へのナビゲーション | メイン機能画面 |
| CP-003 | フッター | 著作権・リンク情報 | 全画面 |
| CP-004 | ローディングスピナー | 処理中表示 | 全画面 |
| CP-005 | エラーメッセージ | エラー通知 | 全画面 |
| CP-006 | 確認ダイアログ | 削除確認等 | 必要な画面 |
| CP-007 | ページネーション | 一覧画面のページ制御 | 一覧画面 |
| CP-008 | 検索フィルター | 検索・フィルター機能 | 一覧画面 |

### 3.2 フォームコンポーネント
| コンポーネントID | コンポーネント名 | 説明 | 使用画面 |
|------------------|------------------|------|----------|
| FC-001 | テキスト入力フィールド | 単行テキスト入力 | フォーム画面 |
| FC-002 | テキストエリア | 複数行テキスト入力 | フォーム画面 |
| FC-003 | セレクトボックス | 選択肢から選択 | フォーム画面 |
| FC-004 | チェックボックス | 複数選択 | フォーム画面 |
| FC-005 | ラジオボタン | 単一選択 | フォーム画面 |
| FC-006 | 日付ピッカー | 日付選択 | フォーム画面 |
| FC-007 | ファイルアップロード | ファイル選択・アップロード | フォーム画面 |

## 4. 画面遷移図

### 4.1 全体遷移フロー
````mermaid
graph TD
    START([アプリ開始]) --> AUTH_CHECK{認証状態確認}
    
    AUTH_CHECK -->|未認証| LOGIN[SC-001: ログイン画面]
    AUTH_CHECK -->|認証済み| DASHBOARD[SC-004: ダッシュボード]
    
    LOGIN --> REGISTER[SC-002: ユーザー登録画面]
    LOGIN --> RESET[SC-003: パスワードリセット画面]
    LOGIN -->|ログイン成功| DASHBOARD
    
    REGISTER -->|登録成功| LOGIN
    RESET -->|リセット完了| LOGIN
    
    DASHBOARD --> LIST[SC-005: 一覧画面]
    DASHBOARD --> PROFILE[SC-009: ユーザー設定画面]
    DASHBOARD -->|管理者| ADMIN[SC-010: 管理者画面]
    
    LIST --> CREATE[SC-007: 作成画面]
    LIST --> DETAIL[SC-006: 詳細画面]
    
    DETAIL --> EDIT[SC-008: 編集画面]
    DETAIL -->|削除| LIST
    
    CREATE -->|作成完了| LIST
    EDIT -->|更新完了| DETAIL
    
    PROFILE --> DASHBOARD
    ADMIN --> DASHBOARD
    
    %% ログアウト
    DASHBOARD -->|ログアウト| LOGIN
    LIST -->|ログアウト| LOGIN
    PROFILE -->|ログアウト| LOGIN
    ADMIN -->|ログアウト| LOGIN
    
    %% エラー画面
    LOGIN -.->|エラー| ERROR_500[SC-012: 500エラー画面]
    DASHBOARD -.->|ページ未発見| ERROR_404[SC-011: 404エラー画面]
    LIST -.->|メンテナンス| MAINTENANCE[SC-013: メンテナンス画面]
````

### 4.2 認証フロー詳細
````mermaid
graph TD
    GUEST[未認証ユーザー] --> LOGIN_PAGE[SC-001: ログイン画面]
    
    LOGIN_PAGE --> LOGIN_FORM{ログインフォーム}
    LOGIN_FORM -->|有効な認証情報| AUTH_SUCCESS[認証成功]
    LOGIN_FORM -->|無効な認証情報| AUTH_ERROR[認証エラー表示]
    
    AUTH_ERROR --> LOGIN_PAGE
    AUTH_SUCCESS --> DASHBOARD[SC-004: ダッシュボード]
    
    LOGIN_PAGE --> REGISTER_LINK[登録リンク]
    REGISTER_LINK --> REGISTER_PAGE[SC-002: ユーザー登録画面]
    
    LOGIN_PAGE --> RESET_LINK[パスワードリセットリンク]
    RESET_LINK --> RESET_PAGE[SC-003: パスワードリセット画面]
    
    REGISTER_PAGE -->|登録成功| LOGIN_PAGE
    RESET_PAGE -->|リセット完了| LOGIN_PAGE
````

## 5. 画面レイアウト構成

### 5.1 基本レイアウト（認証後）
````mermaid
graph TD
    subgraph "App Layout"
        HEADER[CP-001: ヘッダーナビゲーション]
        subgraph "Main Content Area"
            SIDEBAR[CP-002: サイドバーメニュー]
            CONTENT[メインコンテンツ]
        end
        FOOTER[CP-003: フッター]
    end
    
    HEADER --> SIDEBAR
    HEADER --> CONTENT
    SIDEBAR --> CONTENT
    CONTENT --> FOOTER
````

### 5.2 認証画面レイアウト
````mermaid
graph TD
    subgraph "Auth Layout"
        AUTH_HEADER[シンプルヘッダー]
        AUTH_CONTENT[認証フォーム]
        AUTH_FOOTER[CP-003: フッター]
    end
    
    AUTH_HEADER --> AUTH_CONTENT
    AUTH_CONTENT --> AUTH_FOOTER
````

### 5.3 管理画面レイアウト
````mermaid
graph TD
    subgraph "Admin Layout"
        ADMIN_HEADER[CP-001: ヘッダーナビゲーション]
        subgraph "Admin Content Area"
            ADMIN_SIDEBAR[管理者サイドバー]
            ADMIN_CONTENT[管理者コンテンツ]
        end
        ADMIN_FOOTER[CP-003: フッター]
    end
    
    ADMIN_HEADER --> ADMIN_SIDEBAR
    ADMIN_HEADER --> ADMIN_CONTENT
    ADMIN_SIDEBAR --> ADMIN_CONTENT
    ADMIN_CONTENT --> ADMIN_FOOTER
````

## 6. レスポンシブデザイン仕様

### 6.1 ブレークポイント定義
| デバイス | 画面幅 | レイアウト変更 |
|----------|--------|----------------|
| デスクトップ | 1200px以上 | フルレイアウト（サイドバー表示） |
| タブレット | 768px-1199px | サイドバー折りたたみ |
| モバイル | 767px以下 | ハンバーガーメニュー |

### 6.2 レスポンシブ対応
| 要素 | デスクトップ | タブレット | モバイル |
|------|------------|------------|----------|
| サイドバー | 固定表示 | 折りたたみ | ハンバーガーメニュー |
| テーブル | 通常表示 | 横スクロール | カード形式 |
| フォーム | 2カラム | 1カラム | 1カラム |
| ボタン | 通常サイズ | 通常サイズ | 大きめサイズ |

## 7. 完了確認チェックリスト
- [ ] 全ユースケースに対応する画面が定義されている
- [ ] 画面遷移フローが論理的に整合している
- [ ] UIコンポーネントが適切に分類・定義されている
- [ ] レスポンシブデザイン仕様が明確に定義されている
- [ ] アクセシビリティ要件が考慮されている
- [ ] エラーハンドリング画面が定義されている
- [ ] 関連文書との整合性が確認されている
- [ ] ステークホルダーレビューが完了している
- [ ] メタデータが適切に設定されている
- [ ] 次工程（STEP 3: 詳細設計）への引き継ぎ情報が整理されている
