# サブタスク展開リスト

## メタデータ
| 項目 | 内容 |
|------|------|
| 文書ID | SUB-001 |
| 関連文書 | TASK-001 (ファイル単位タスクリスト)<br>NFR-001 (非機能要件)<br>SCALE-001 (プロジェクト規模判定結果)<br>CLASS-001 (クラス設計表) |
| 作成日 | YYYY-MM-DD |
| 最終更新日 | YYYY-MM-DD |
| 作成者 | [プロジェクトマネージャー名] |
| 承認者 | [テクニカルリード名] |
| バージョン | 1.0 |
| ステータス | ドラフト |

## 1. サブタスク展開概要

### 1.1 展開方針
| 項目 | 内容 |
|------|------|
| プロジェクト規模 | [小規模/中規模/大規模] |
| 品質投資戦略 | [標準/選択的/最適化] |
| 総ファイル数 | [数]ファイル |
| 展開対象ファイル数 | [数]ファイル |
| 総サブタスク数 | [数]サブタスク |

### 1.2 展開レベル分布
| 展開レベル | 対象ファイル数 | 平均サブタスク数 | 総サブタスク数 | 比率 |
|------------|--------------|------------------|----------------|------|
| **全展開** | [数] | 12-15 | [数] | [%] |
| **中展開** | [数] | 7-9 | [数] | [%] |
| **簡略展開** | [数] | 4-7 | [数] | [%] |
| **合計** | **[数]** | **[平均]** | **[数]** | **100%** |

## 2. 展開レベル判定基準

### 2.1 重要度・複雑度マトリクス
| 重要度 | 複雑度 | 投資レベル | 展開レベル | サブタスク数 | 対象ファイル例 |
|--------|--------|-----------|------------|-------------|---------------|
| **高** | **高** | 最高投資 | 全展開 | 12-15個 | Entity, Service |
| **高** | **中** | 高投資 | 中展開+ | 9-11個 | Controller, Repository |
| **中** | **高** | 高投資 | 中展開+ | 9-11個 | Middleware, Validator |
| **中** | **中** | 標準投資 | 中展開 | 7個 | 一般的なクラス |
| **中** | **低** | 標準投資 | 中展開 | 7個 | 単純なController |
| **低** | **中** | 最小投資 | 簡略展開 | 4-5個 | DTO, Configuration |
| **低** | **低** | 最小投資 | 簡略展開 | 4-5個 | Utility, Constants |

### 2.2 ファイル種別別判定基準
| ファイル種別 | 基本重要度 | 基本複雑度 | 推奨展開レベル | 理由 |
|-------------|------------|------------|---------------|------|
| **Entity** | 高 | 高 | 全展開 | ビジネスロジック複雑、品質影響大 |
| **Service** | 高 | 高 | 全展開 | 多数のメソッド、複雑な処理 |
| **Controller** | 中 | 中 | 中展開 | API仕様、エラーハンドリング |
| **Repository** | 中 | 中 | 中展開 | データアクセス処理 |
| **Middleware** | 中 | 高 | 中展開+ | 横断的関心事、影響範囲大 |
| **Validator** | 中 | 中 | 中展開 | バリデーションロジック |
| **DTO** | 低 | 低 | 簡略展開 | 単純なデータ構造 |
| **Config** | 低 | 低 | 簡略展開 | 設定ファイル |
| **Utility** | 低 | 中 | 簡略展開 | 汎用的な処理 |
| **Constants** | 低 | 低 | 簡略展開 | 定数定義 |

## 3. 7つの標準サブタスク定義

### 3.1 標準サブタスク一覧
| No | サブタスク名 | 説明 | 全展開での詳細化 |
|----|-------------|------|------------------|
| 1 | **仕様確認・設計理解** | 設計文書の理解と依存関係確認 | 要件レビュー、設計レビュー |
| 2 | **コーディング** | 実装とコーディング規約遵守 | 段階的実装、コードレビュー |
| 3 | **テストコーディング** | 正常系・異常系・境界値テスト実装 | テストレビュー、カバレッジ確認 |
| 4 | **単体テスト実行** | カバレッジ90%以上の確認 | パフォーマンステスト、セキュリティテスト |
| 5 | **リポジトリコミット** | 規約準拠とIssue紐付け | ドキュメント更新 |
| 6 | **ToDoチェック** | 品質基準達成確認 | 品質メトリクス確認 |
| 7 | **Issueクローズ** | 作業完了の正式記録 | 成果物確認 |

### 3.2 展開レベル別サブタスク構成

#### 3.2.1 全展開（12-15サブタスク）
**対象**: Entity, Service（重要度高、複雑度高）

```markdown
1. 仕様確認・設計理解
   - [ ] 要件・仕様確認
   - [ ] 設計レビュー
   - [ ] 依存関係確認

2. コーディング
   - [ ] 基本実装
   - [ ] ビジネスロジック実装
   - [ ] エラーハンドリング実装
   - [ ] コードレビュー

3. テストコーディング
   - [ ] 単体テストコーディング
   - [ ] テストレビュー
   - [ ] モック・スタブ実装

4. 単体テスト実行
   - [ ] 単体テスト実行
   - [ ] カバレッジ確認（90%以上）
   - [ ] パフォーマンステスト
   - [ ] セキュリティテスト

5. リポジトリコミット
   - [ ] コミット準備
   - [ ] リポジトリコミット
   - [ ] ドキュメント更新

6. ToDoチェック
   - [ ] 品質基準確認
   - [ ] 品質メトリクス確認

7. Issueクローズ
   - [ ] 成果物確認
   - [ ] Issueクローズ
```

#### 3.2.2 中展開（7-9サブタスク）
**対象**: Controller, Repository（重要度中、複雑度中）

```markdown
1. 仕様確認・設計理解
   - [ ] 設計文書確認
   - [ ] インターフェース仕様確認

2. コーディング
   - [ ] 実装
   - [ ] エラーハンドリング

3. テストコーディング
   - [ ] 単体テストコーディング

4. 単体テスト実行
   - [ ] 単体テスト実行
   - [ ] カバレッジ確認

5. リポジトリコミット
   - [ ] リポジトリコミット

6. ToDoチェック
   - [ ] 品質基準確認

7. Issueクローズ
   - [ ] Issueクローズ
```

#### 3.2.3 簡略展開（4-7サブタスク）
**対象**: DTO, Utility（重要度低、複雑度低）

```markdown
1. 仕様確認・設計理解
   - [ ] 仕様確認

2. コーディング
   - [ ] 実装

3. テストコーディング
   - [ ] 基本テスト

4. 単体テスト実行
   - [ ] テスト実行

5. リポジトリコミット
   - [ ] コミット

6. ToDoチェック
   - [ ] 完了確認

7. Issueクローズ
   - [ ] クローズ
```

## 4. ファイル別サブタスク展開結果

### 4.1 全展開対象ファイル
| タスクID | ファイル名 | ファイル種別 | 重要度 | 複雑度 | サブタスク数 | 見積工数 |
|----------|------------|-------------|--------|--------|-------------|----------|
| TSK-001-ENT-User | User.ts | Entity | 高 | 高 | 15 | [時間] |
| TSK-002-ENT-Task | Task.ts | Entity | 高 | 高 | 15 | [時間] |
| TSK-005-SVC-UserService | UserService.ts | Service | 高 | 高 | 14 | [時間] |
| TSK-006-SVC-TaskService | TaskService.ts | Service | 高 | 高 | 14 | [時間] |

### 4.2 中展開対象ファイル
| タスクID | ファイル名 | ファイル種別 | 重要度 | 複雑度 | サブタスク数 | 見積工数 |
|----------|------------|-------------|--------|--------|-------------|----------|
| TSK-009-CTL-UserController | UserController.ts | Controller | 中 | 中 | 7 | [時間] |
| TSK-010-CTL-TaskController | TaskController.ts | Controller | 中 | 中 | 7 | [時間] |
| TSK-013-REP-UserRepository | UserRepository.ts | Repository | 中 | 中 | 7 | [時間] |
| TSK-014-REP-TaskRepository | TaskRepository.ts | Repository | 中 | 中 | 7 | [時間] |

### 4.3 簡略展開対象ファイル
| タスクID | ファイル名 | ファイル種別 | 重要度 | 複雑度 | サブタスク数 | 見積工数 |
|----------|------------|-------------|--------|--------|-------------|----------|
| TSK-017-DTO-UserRequest | UserRequest.ts | DTO | 低 | 低 | 5 | [時間] |
| TSK-018-DTO-TaskRequest | TaskRequest.ts | DTO | 低 | 低 | 5 | [時間] |
| TSK-021-UTL-DateUtils | DateUtils.ts | Utility | 低 | 中 | 5 | [時間] |
| TSK-022-CFG-Database | Database.ts | Config | 低 | 低 | 4 | [時間] |

## 5. 品質投資効果分析

### 5.1 展開レベル別効果予測
| 展開レベル | 品質向上効果 | 開発効率 | 総合評価 | 適用方針 |
|------------|-------------|----------|----------|----------|
| **全展開** | 最高（95%+） | 中（詳細管理） | 最適 | 重要ファイルに集中投資 |
| **中展開** | 高（85-90%） | 高（バランス） | 良好 | 標準的な品質確保 |
| **簡略展開** | 標準（75-80%） | 最高（効率重視） | 効率的 | 低リスクファイルで効率化 |

### 5.2 リソース配分最適化
| 展開レベル | ファイル数 | 総工数比率 | 品質効果比率 | 効率性 |
|------------|------------|------------|-------------|--------|
| **全展開** | [数] ([%]) | [%] | [%] | 高品質集中投資 |
| **中展開** | [数] ([%]) | [%] | [%] | バランス型投資 |
| **簡略展開** | [数] ([%]) | [%] | [%] | 効率重視投資 |

## 6. 次工程への引き継ぎ

### 6.1 ToDoリスト作成への入力
- **総サブタスク数**: [数]サブタスク
- **展開レベル分布**: 全展開[数]、中展開[数]、簡略展開[数]
- **見積総工数**: [時間]
- **品質投資戦略**: [戦略名]

### 6.2 Issue登録・仕様書作成への入力
- **Issue作成対象**: [数]ファイル
- **詳細仕様書作成対象**: 全展開・中展開ファイル
- **簡略仕様書作成対象**: 簡略展開ファイル

### 6.3 品質管理への入力
- **重点管理対象**: 全展開ファイル（[数]ファイル）
- **標準管理対象**: 中展開ファイル（[数]ファイル）
- **効率管理対象**: 簡略展開ファイル（[数]ファイル）

## 7. 完了確認チェックリスト
- [ ] 全ファイルの重要度・複雑度が評価されている
- [ ] 展開レベルが適切に判定されている
- [ ] サブタスク構成が展開レベルに応じて定義されている
- [ ] 見積工数が算出されている
- [ ] 品質投資効果が分析されている
- [ ] リソース配分が最適化されている
- [ ] 次工程への引き継ぎ情報が整理されている
- [ ] ステークホルダーレビューが完了している
- [ ] 品質投資戦略との整合性が確認されている
- [ ] 7つの標準サブタスクとの整合性が確認されている
